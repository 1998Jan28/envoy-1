
<!DOCTYPE HTML>
<html lang="zh-hans" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>命令行选项 · Envoy proxy中文文档</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        <meta name="author" content="ServiceMesher">
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-splitter/splitter.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search-plus/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-page-toc-button/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-back-to-top-button/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-prism/prism-ghcolors.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-tbfed-pagefooter/footer.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="hot_restarter.html" />
    
    
    <link rel="prev" href="../configuration/tools/router_check.html" />
    

    
        <link rel="shortcut icon" href='../favicon.ico' type="image/x-icon">
    
    
        <link rel="bookmark" href='../favicon.ico' type="image/x-icon">
    
    
    

    <style>
    @media only screen and (max-width: 640px) {
        .book-header .hidden-mobile {
            display: none;
        }
    }
    </style>
    <script>
        window["gitbook-plugin-github-buttons"] = {"repo":"servicemesher/envoy","types":["star"],"size":"small"};
    </script>

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="输入并搜索" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        <li class="header">说明</li>
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                        <b>1.1.</b>
                    
                    介绍
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../about_docs.html">
            
                <a href="../about_docs.html">
            
                    
                        <b>1.2.</b>
                    
                    关于本文档
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">简介</li>
        
        
    
        <li class="chapter " data-level="2.1" data-path="../intro/what_is_envoy.html">
            
                <a href="../intro/what_is_envoy.html">
            
                    
                        <b>2.1.</b>
                    
                    Envoy 是什么？
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2" >
            
                <span>
            
                    
                        <b>2.2.</b>
                    
                    架构概览
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.2.1" data-path="../intro/arch_overview/terminology.html">
            
                <a href="../intro/arch_overview/terminology.html">
            
                    
                        <b>2.2.1.</b>
                    
                    术语
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2.2" data-path="../intro/arch_overview/threading_model.html">
            
                <a href="../intro/arch_overview/threading_model.html">
            
                    
                        <b>2.2.2.</b>
                    
                    线程模型
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2.3" data-path="../intro/arch_overview/listeners.html">
            
                <a href="../intro/arch_overview/listeners.html">
            
                    
                        <b>2.2.3.</b>
                    
                    监听器
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2.4" data-path="../intro/arch_overview/listener_filters.html">
            
                <a href="../intro/arch_overview/listener_filters.html">
            
                    
                        <b>2.2.4.</b>
                    
                    监听器过滤器
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2.5" data-path="../intro/arch_overview/network_filters.html">
            
                <a href="../intro/arch_overview/network_filters.html">
            
                    
                        <b>2.2.5.</b>
                    
                    网络 (L3/L4) 过滤器
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2.6" data-path="../intro/arch_overview/http_connection_management.html">
            
                <a href="../intro/arch_overview/http_connection_management.html">
            
                    
                        <b>2.2.6.</b>
                    
                    HTTP 连接管理
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2.7" data-path="../intro/arch_overview/http_filters.html">
            
                <a href="../intro/arch_overview/http_filters.html">
            
                    
                        <b>2.2.7.</b>
                    
                    HTTP 过滤器
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2.8" data-path="../intro/arch_overview/http_routing.html">
            
                <a href="../intro/arch_overview/http_routing.html">
            
                    
                        <b>2.2.8.</b>
                    
                    HTTP 路由
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2.9" data-path="../intro/arch_overview/grpc.html">
            
                <a href="../intro/arch_overview/grpc.html">
            
                    
                        <b>2.2.9.</b>
                    
                    gRPC
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2.10" data-path="../intro/arch_overview/websocket.html">
            
                <a href="../intro/arch_overview/websocket.html">
            
                    
                        <b>2.2.10.</b>
                    
                    WebSocket 支持
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2.11" data-path="../intro/arch_overview/cluster_manager.html">
            
                <a href="../intro/arch_overview/cluster_manager.html">
            
                    
                        <b>2.2.11.</b>
                    
                    集群管理器
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2.12" data-path="../intro/arch_overview/service_discovery.html">
            
                <a href="../intro/arch_overview/service_discovery.html">
            
                    
                        <b>2.2.12.</b>
                    
                    服务发现
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2.13" data-path="../intro/arch_overview/health_checking.html">
            
                <a href="../intro/arch_overview/health_checking.html">
            
                    
                        <b>2.2.13.</b>
                    
                    健康检查
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2.14" data-path="../intro/arch_overview/connection_pooling.html">
            
                <a href="../intro/arch_overview/connection_pooling.html">
            
                    
                        <b>2.2.14.</b>
                    
                    连接池
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2.15" data-path="../intro/arch_overview/load_balancing.html">
            
                <a href="../intro/arch_overview/load_balancing.html">
            
                    
                        <b>2.2.15.</b>
                    
                    负载均衡
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2.16" data-path="../intro/arch_overview/outlier.html">
            
                <a href="../intro/arch_overview/outlier.html">
            
                    
                        <b>2.2.16.</b>
                    
                    异常点检测
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2.17" data-path="../intro/arch_overview/circuit_breaking.html">
            
                <a href="../intro/arch_overview/circuit_breaking.html">
            
                    
                        <b>2.2.17.</b>
                    
                    断路
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2.18" data-path="../intro/arch_overview/global_rate_limiting.html">
            
                <a href="../intro/arch_overview/global_rate_limiting.html">
            
                    
                        <b>2.2.18.</b>
                    
                    全局速率限制
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2.19" data-path="../intro/arch_overview/ssl.html">
            
                <a href="../intro/arch_overview/ssl.html">
            
                    
                        <b>2.2.19.</b>
                    
                    TLS
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2.20" data-path="../intro/arch_overview/statistics.html">
            
                <a href="../intro/arch_overview/statistics.html">
            
                    
                        <b>2.2.20.</b>
                    
                    统计
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2.21" data-path="../intro/arch_overview/runtime.html">
            
                <a href="../intro/arch_overview/runtime.html">
            
                    
                        <b>2.2.21.</b>
                    
                    运行时配置
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2.22" data-path="../intro/arch_overview/tracing.html">
            
                <a href="../intro/arch_overview/tracing.html">
            
                    
                        <b>2.2.22.</b>
                    
                    追踪
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2.23" data-path="../intro/arch_overview/tcp_proxy.html">
            
                <a href="../intro/arch_overview/tcp_proxy.html">
            
                    
                        <b>2.2.23.</b>
                    
                    TCP 代理
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2.24" data-path="../intro/arch_overview/access_logging.html">
            
                <a href="../intro/arch_overview/access_logging.html">
            
                    
                        <b>2.2.24.</b>
                    
                    访问记录
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2.25" data-path="../intro/arch_overview/mongo.html">
            
                <a href="../intro/arch_overview/mongo.html">
            
                    
                        <b>2.2.25.</b>
                    
                    MongoDB
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2.26" data-path="../intro/arch_overview/dynamo.html">
            
                <a href="../intro/arch_overview/dynamo.html">
            
                    
                        <b>2.2.26.</b>
                    
                    DynamoDB
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2.27" data-path="../intro/arch_overview/redis.html">
            
                <a href="../intro/arch_overview/redis.html">
            
                    
                        <b>2.2.27.</b>
                    
                    Redis
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2.28" data-path="../intro/arch_overview/hot_restart.html">
            
                <a href="../intro/arch_overview/hot_restart.html">
            
                    
                        <b>2.2.28.</b>
                    
                    热重启
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2.29" data-path="../intro/arch_overview/dynamic_configuration.html">
            
                <a href="../intro/arch_overview/dynamic_configuration.html">
            
                    
                        <b>2.2.29.</b>
                    
                    动态配置
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2.30" data-path="../intro/arch_overview/init.html">
            
                <a href="../intro/arch_overview/init.html">
            
                    
                        <b>2.2.30.</b>
                    
                    初始化
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2.31" data-path="../intro/arch_overview/draining.html">
            
                <a href="../intro/arch_overview/draining.html">
            
                    
                        <b>2.2.31.</b>
                    
                    排除
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2.32" data-path="../intro/arch_overview/scripting.html">
            
                <a href="../intro/arch_overview/scripting.html">
            
                    
                        <b>2.2.32.</b>
                    
                    脚本
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.3" data-path="../intro/deployment_types/deployment_types.html">
            
                <a href="../intro/deployment_types/deployment_types.html">
            
                    
                        <b>2.3.</b>
                    
                    部署类型
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.3.1" data-path="../intro/deployment_types/service_to_service.html">
            
                <a href="../intro/deployment_types/service_to_service.html">
            
                    
                        <b>2.3.1.</b>
                    
                    仅服务之间
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3.2" data-path="../intro/deployment_types/front_proxy.html">
            
                <a href="../intro/deployment_types/front_proxy.html">
            
                    
                        <b>2.3.2.</b>
                    
                    服务之间外加前端代理
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3.3" data-path="../intro/deployment_types/double_proxy.html">
            
                <a href="../intro/deployment_types/double_proxy.html">
            
                    
                        <b>2.3.3.</b>
                    
                    服务间、前端代理、双向代理
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.4" data-path="../intro/comparison.html">
            
                <a href="../intro/comparison.html">
            
                    
                        <b>2.4.</b>
                    
                    与类似系统比较
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.5" data-path="../intro/getting_help.html">
            
                <a href="../intro/getting_help.html">
            
                    
                        <b>2.5.</b>
                    
                    获取帮助
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.6" data-path="../intro/version_history.html">
            
                <a href="../intro/version_history.html">
            
                    
                        <b>2.6.</b>
                    
                    历史版本
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">入门指南</li>
        
        
    
        <li class="chapter " data-level="3.1" data-path="../start/start.html">
            
                <a href="../start/start.html">
            
                    
                        <b>3.1.</b>
                    
                    入门指南
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.2" >
            
                <span>
            
                    
                        <b>3.2.</b>
                    
                    Sandbox
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.2.1" data-path="../start/sandboxes/front_proxy.html">
            
                <a href="../start/sandboxes/front_proxy.html">
            
                    
                        <b>3.2.1.</b>
                    
                    前端代理
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.2.2" data-path="../start/sandboxes/zipkin_tracing.html">
            
                <a href="../start/sandboxes/zipkin_tracing.html">
            
                    
                        <b>3.2.2.</b>
                    
                    Zipkin 追踪
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.2.3" data-path="../start/sandboxes/jaeger_tracing.html">
            
                <a href="../start/sandboxes/jaeger_tracing.html">
            
                    
                        <b>3.2.3.</b>
                    
                    Jaeger 追踪
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.2.4" data-path="../start/sandboxes/jaeger_native_tracing.html">
            
                <a href="../start/sandboxes/jaeger_native_tracing.html">
            
                    
                        <b>3.2.4.</b>
                    
                    Jaeger 原生追踪
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.3" >
            
                <span>
            
                    
                        <b>3.3.</b>
                    
                    其他用例
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.3.1" data-path="../start/distro/ambassador.html">
            
                <a href="../start/distro/ambassador.html">
            
                    
                        <b>3.3.1.</b>
                    
                    Envoy 作为 Kubernetes 的 API 网关
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="header">构建和安装</li>
        
        
    
        <li class="chapter " data-level="4.1" data-path="../install/building.html">
            
                <a href="../install/building.html">
            
                    
                        <b>4.1.</b>
                    
                    构建
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.2" data-path="../install/ref_configs.html">
            
                <a href="../install/ref_configs.html">
            
                    
                        <b>4.2.</b>
                    
                    参考配置
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.3" >
            
                <span>
            
                    
                        <b>4.3.</b>
                    
                    工具
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.3.1" data-path="../install/tools/config_load_check_tool.html">
            
                <a href="../install/tools/config_load_check_tool.html">
            
                    
                        <b>4.3.1.</b>
                    
                    配置负载检查工具
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.3.2" data-path="../install/tools/route_table_check_tool.html">
            
                <a href="../install/tools/route_table_check_tool.html">
            
                    
                        <b>4.3.2.</b>
                    
                    路由表检查工具
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.3.3" data-path="../install/tools/schema_validator_check_tool.html">
            
                <a href="../install/tools/schema_validator_check_tool.html">
            
                    
                        <b>4.3.3.</b>
                    
                    Schema 验证器检查工具
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="header">配置参考</li>
        
        
    
        <li class="chapter " data-level="5.1" data-path="../configuration/overview/v1_overview.html">
            
                <a href="../configuration/overview/v1_overview.html">
            
                    
                        <b>5.1.</b>
                    
                    v1 API 概览
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.2" data-path="../configuration/overview/v2_overview.html">
            
                <a href="../configuration/overview/v2_overview.html">
            
                    
                        <b>5.2.</b>
                    
                    v2 API 概览
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.3" >
            
                <span>
            
                    
                        <b>5.3.</b>
                    
                    监听器
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="5.3.1" data-path="../configuration/listeners/stats.html">
            
                <a href="../configuration/listeners/stats.html">
            
                    
                        <b>5.3.1.</b>
                    
                    统计
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.3.2" data-path="../configuration/listeners/runtime.html">
            
                <a href="../configuration/listeners/runtime.html">
            
                    
                        <b>5.3.2.</b>
                    
                    运行时
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.3.3" data-path="../configuration/listeners/lds.html">
            
                <a href="../configuration/listeners/lds.html">
            
                    
                        <b>5.3.3.</b>
                    
                    监听器发现服务（LDS）
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="5.4" >
            
                <span>
            
                    
                        <b>5.4.</b>
                    
                    监听器过滤器
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="5.4.1" data-path="../configuration/listener_filters/original_dst_filter.html">
            
                <a href="../configuration/listener_filters/original_dst_filter.html">
            
                    
                        <b>5.4.1.</b>
                    
                    原始目的地
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.4.2" data-path="../configuration/listener_filters/tls_inspector.html">
            
                <a href="../configuration/listener_filters/tls_inspector.html">
            
                    
                        <b>5.4.2.</b>
                    
                    TLS 检查器
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="5.5" >
            
                <span>
            
                    
                        <b>5.5.</b>
                    
                    网络过滤器
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="5.5.1" data-path="../configuration/network_filters/client_ssl_auth_filter.html">
            
                <a href="../configuration/network_filters/client_ssl_auth_filter.html">
            
                    
                        <b>5.5.1.</b>
                    
                    客户端 TLS 身份验证
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.5.2" data-path="../configuration/network_filters/echo_filter.html">
            
                <a href="../configuration/network_filters/echo_filter.html">
            
                    
                        <b>5.5.2.</b>
                    
                    Echo
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.5.3" data-path="../configuration/network_filters/mongo_proxy_filter.html">
            
                <a href="../configuration/network_filters/mongo_proxy_filter.html">
            
                    
                        <b>5.5.3.</b>
                    
                    Mongo 代理
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.5.4" data-path="../configuration/network_filters/rate_limit_filter.html">
            
                <a href="../configuration/network_filters/rate_limit_filter.html">
            
                    
                        <b>5.5.4.</b>
                    
                    速率限制
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.5.5" data-path="../configuration/network_filters/redis_proxy_filter.html">
            
                <a href="../configuration/network_filters/redis_proxy_filter.html">
            
                    
                        <b>5.5.5.</b>
                    
                    Redis 代理
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.5.6" data-path="../configuration/network_filters/tcp_proxy_filter.html">
            
                <a href="../configuration/network_filters/tcp_proxy_filter.html">
            
                    
                        <b>5.5.6.</b>
                    
                    TCP 代理
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="5.6" data-path="../configuration/http_conn_man/http_conn_man.html">
            
                <a href="../configuration/http_conn_man/http_conn_man.html">
            
                    
                        <b>5.6.</b>
                    
                    HTTP 连接管理器
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="5.6.1" data-path="../configuration/http_conn_man/route_matching.html">
            
                <a href="../configuration/http_conn_man/route_matching.html">
            
                    
                        <b>5.6.1.</b>
                    
                    路由匹配
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.6.2" data-path="../configuration/http_conn_man/traffic_splitting.html">
            
                <a href="../configuration/http_conn_man/traffic_splitting.html">
            
                    
                        <b>5.6.2.</b>
                    
                    流量转移/拆分
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.6.3" data-path="../configuration/http_conn_man/headers.html">
            
                <a href="../configuration/http_conn_man/headers.html">
            
                    
                        <b>5.6.3.</b>
                    
                    HTTP header 操作
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.6.4" data-path="../configuration/http_conn_man/header_sanitizing.html">
            
                <a href="../configuration/http_conn_man/header_sanitizing.html">
            
                    
                        <b>5.6.4.</b>
                    
                    HTTP header sanitizing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.6.5" data-path="../configuration/http_conn_man/stats.html">
            
                <a href="../configuration/http_conn_man/stats.html">
            
                    
                        <b>5.6.5.</b>
                    
                    统计
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.6.6" data-path="../configuration/http_conn_man/runtime.html">
            
                <a href="../configuration/http_conn_man/runtime.html">
            
                    
                        <b>5.6.6.</b>
                    
                    运行时
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.6.7" data-path="../configuration/http_conn_man/rds.html">
            
                <a href="../configuration/http_conn_man/rds.html">
            
                    
                        <b>5.6.7.</b>
                    
                    路由发现服务（RDS）
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="5.7" >
            
                <span>
            
                    
                        <b>5.7.</b>
                    
                    HTTP 过滤器
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="5.7.1" data-path="../configuration/http_filters/buffer_filter.html">
            
                <a href="../configuration/http_filters/buffer_filter.html">
            
                    
                        <b>5.7.1.</b>
                    
                    Buffer
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.7.2" data-path="../configuration/http_filters/cors_filter.html">
            
                <a href="../configuration/http_filters/cors_filter.html">
            
                    
                        <b>5.7.2.</b>
                    
                    CORS
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.7.3" data-path="../configuration/http_filters/dynamodb_filter.html">
            
                <a href="../configuration/http_filters/dynamodb_filter.html">
            
                    
                        <b>5.7.3.</b>
                    
                    DynamoDB
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.7.4" data-path="../configuration/http_filters/fault_filter.html">
            
                <a href="../configuration/http_filters/fault_filter.html">
            
                    
                        <b>5.7.4.</b>
                    
                    故障注入
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.7.5" data-path="../configuration/http_filters/grpc_http1_bridge_filter.html">
            
                <a href="../configuration/http_filters/grpc_http1_bridge_filter.html">
            
                    
                        <b>5.7.5.</b>
                    
                    gRPC HTTP/1.1 bridge
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.7.6" data-path="../configuration/http_filters/grpc_json_transcoder_filter.html">
            
                <a href="../configuration/http_filters/grpc_json_transcoder_filter.html">
            
                    
                        <b>5.7.6.</b>
                    
                    gRPC-JSON 转码
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.7.7" data-path="../configuration/http_filters/grpc_web_filter.html">
            
                <a href="../configuration/http_filters/grpc_web_filter.html">
            
                    
                        <b>5.7.7.</b>
                    
                    gRPC-Web
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.7.8" data-path="../configuration/http_filters/gzip_filter.html">
            
                <a href="../configuration/http_filters/gzip_filter.html">
            
                    
                        <b>5.7.8.</b>
                    
                    Gzip
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.7.9" data-path="../configuration/http_filters/health_check_filter.html">
            
                <a href="../configuration/http_filters/health_check_filter.html">
            
                    
                        <b>5.7.9.</b>
                    
                    健康检查
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.7.10" data-path="../configuration/http_filters/ip_tagging_filter.html">
            
                <a href="../configuration/http_filters/ip_tagging_filter.html">
            
                    
                        <b>5.7.10.</b>
                    
                    IP Tagging
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.7.11" data-path="../configuration/http_filters/lua_filter.html">
            
                <a href="../configuration/http_filters/lua_filter.html">
            
                    
                        <b>5.7.11.</b>
                    
                    Lua
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.7.12" data-path="../configuration/http_filters/rate_limit_filter.html">
            
                <a href="../configuration/http_filters/rate_limit_filter.html">
            
                    
                        <b>5.7.12.</b>
                    
                    速率限制
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.7.13" data-path="../configuration/http_filters/router_filter.html">
            
                <a href="../configuration/http_filters/router_filter.html">
            
                    
                        <b>5.7.13.</b>
                    
                    路由
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.7.14" data-path="../configuration/http_filters/squash_filter.html">
            
                <a href="../configuration/http_filters/squash_filter.html">
            
                    
                        <b>5.7.14.</b>
                    
                    Squash
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="5.8" data-path="../configuration/cluster_manager/cluster_manager.html">
            
                <a href="../configuration/cluster_manager/cluster_manager.html">
            
                    
                        <b>5.8.</b>
                    
                    集群管理器
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="5.8.1" data-path="../configuration/cluster_manager/cluster_stats.html">
            
                <a href="../configuration/cluster_manager/cluster_stats.html">
            
                    
                        <b>5.8.1.</b>
                    
                    统计
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.8.2" data-path="../configuration/cluster_manager/cluster_runtime.html">
            
                <a href="../configuration/cluster_manager/cluster_runtime.html">
            
                    
                        <b>5.8.2.</b>
                    
                    运行时
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.8.3" data-path="../configuration/cluster_manager/cds.html">
            
                <a href="../configuration/cluster_manager/cds.html">
            
                    
                        <b>5.8.3.</b>
                    
                    集群发现服务（CDS）
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.8.4" data-path="../configuration/cluster_manager/cluster_hc.html">
            
                <a href="../configuration/cluster_manager/cluster_hc.html">
            
                    
                        <b>5.8.4.</b>
                    
                    健康检查
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.8.5" data-path="../configuration/cluster_manager/cluster_circuit_breakers.html">
            
                <a href="../configuration/cluster_manager/cluster_circuit_breakers.html">
            
                    
                        <b>5.8.5.</b>
                    
                    断路
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="5.9" >
            
                <span>
            
                    
                        <b>5.9.</b>
                    
                    健康检查器
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="5.9.1" data-path="../configuration/health_checkers/redis.html">
            
                <a href="../configuration/health_checkers/redis.html">
            
                    
                        <b>5.9.1.</b>
                    
                    Redis
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="5.10" data-path="../configuration/access_log.html">
            
                <a href="../configuration/access_log.html">
            
                    
                        <b>5.10.</b>
                    
                    访问记录
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.11" data-path="../configuration/rate_limit.html">
            
                <a href="../configuration/rate_limit.html">
            
                    
                        <b>5.11.</b>
                    
                    速率限制服务
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.12" data-path="../configuration/runtime.html">
            
                <a href="../configuration/runtime.html">
            
                    
                        <b>5.12.</b>
                    
                    运行时
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.13" data-path="../configuration/statistics.html">
            
                <a href="../configuration/statistics.html">
            
                    
                        <b>5.13.</b>
                    
                    统计
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.14" data-path="../configuration/tools/router_check.html">
            
                <a href="../configuration/tools/router_check.html">
            
                    
                        <b>5.14.</b>
                    
                    路由表检查工具
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">运维管理</li>
        
        
    
        <li class="chapter active" data-level="6.1" data-path="cli.html">
            
                <a href="cli.html">
            
                    
                        <b>6.1.</b>
                    
                    命令行选项
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.2" data-path="hot_restarter.html">
            
                <a href="hot_restarter.html">
            
                    
                        <b>6.2.</b>
                    
                    热重启 Python 包装器
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.3" data-path="admin.html">
            
                <a href="admin.html">
            
                    
                        <b>6.3.</b>
                    
                    管理接口
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.4" data-path="stats_overview.html">
            
                <a href="stats_overview.html">
            
                    
                        <b>6.4.</b>
                    
                    统计概览
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.5" data-path="runtime.html">
            
                <a href="runtime.html">
            
                    
                        <b>6.5.</b>
                    
                    运行时
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.6" data-path="fs_flags.html">
            
                <a href="fs_flags.html">
            
                    
                        <b>6.6.</b>
                    
                    文件系统标志
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.7" data-path="traffic_capture.html">
            
                <a href="traffic_capture.html">
            
                    
                        <b>6.7.</b>
                    
                    流量捕获
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.8" data-path="../extending/extending.html">
            
                <a href="../extending/extending.html">
            
                    
                        <b>6.8.</b>
                    
                    为自定义用例扩展 Envoy
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">API 参考</li>
        
        
    
        <li class="chapter " data-level="7.1" >
            
                <a target="_blank" href="https://www.envoyproxy.io/docs/envoy/latest/api-v1/api">
            
                    
                        <b>7.1.</b>
                    
                    v1 API 参考
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.2" >
            
                <a target="_blank" href="https://www.envoyproxy.io/docs/envoy/latest/api-v2/api">
            
                    
                        <b>7.2.</b>
                    
                    v2 API 参考
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">常见问题</li>
        
        
    
        <li class="chapter " data-level="8.1" data-path="../faq/how_fast_is_envoy.html">
            
                <a href="../faq/how_fast_is_envoy.html">
            
                    
                        <b>8.1.</b>
                    
                    Envoy 有多快？
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="8.2" data-path="../faq/binaries.html">
            
                <a href="../faq/binaries.html">
            
                    
                        <b>8.2.</b>
                    
                    从哪里能获得二进制文件？
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="8.3" data-path="../faq/sni.html">
            
                <a href="../faq/sni.html">
            
                    
                        <b>8.3.</b>
                    
                    如何设置 SNI？
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="8.4" data-path="../faq/zone_aware_routing.html">
            
                <a href="../faq/zone_aware_routing.html">
            
                    
                        <b>8.4.</b>
                    
                    如何设置 zone 可感知路由？
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="8.5" data-path="../faq/zipkin_tracing.html">
            
                <a href="../faq/zipkin_tracing.html">
            
                    
                        <b>8.5.</b>
                    
                    如何设置 Zipkin 追踪？
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="8.6" data-path="../faq/lb_panic_threshold.html">
            
                <a href="../faq/lb_panic_threshold.html">
            
                    
                        <b>8.6.</b>
                    
                    我设置了健康检查，但是当有节点失败时，Envoy 又路由到那些节点，这是怎么回事？
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="8.7" data-path="../faq/concurrency_lb.html">
            
                <a href="../faq/concurrency_lb.html">
            
                    
                        <b>8.7.</b>
                    
                    为什么 Round Robin 负载均衡看起来不起作用？
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            本书使用 GitBook 发布
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >命令行选项</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div class="search-plus" id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="&#x547D;&#x4EE4;&#x884C;&#x9009;&#x9879;">&#x547D;&#x4EE4;&#x884C;&#x9009;&#x9879;</h1>
<p>Envoy is driven both by a JSON configuration file as well as a set of command line options. The following are the command line options that Envoy supports.</p>
<ul>
<li><p><code>-c <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>path</span> <span class="token attr-name">string</span><span class="token punctuation">&gt;</span></span>, --config-path <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>path</span> <span class="token attr-name">string</span><span class="token punctuation">&gt;</span></span></code></p>
<p><em>(optional)</em> The path to the v1 or v2 <a href="../configuration/configuration.md#config">JSON/YAML/proto3 configuration file</a>. If this flag is missing, <a href="#cmdoption-config-yaml"><code>--config-yaml</code></a> is required. This will be parsed as a <a href="../configuration/overview/v2_overview.html#config-overview-v2-bootstrap">v2 bootstrap configuration file</a> and on failure, subject to <a href="#cmdoption-v2-config-only"><code>--v2-config-only</code></a>, will be considered as a <a href="../configuration/overview/v1_overview.html#config-overview-v1">v1 JSON configuration file</a>. For v2 configuration files, valid extensions are <code>.json</code>, <code>.yaml</code>, <code>.pb</code> and <code>.pb_text</code>, which indicate JSON, YAML, <a href="https://developers.google.com/protocol-buffers/docs/encoding" target="_blank">binary proto3</a> and <a href="https://developers.google.com/protocol-buffers/docs/reference/cpp/google.protobuf.text_format" target="_blank">text proto3</a> formats respectively.</p>
</li>
<li><p><code>--config-yaml <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>yaml</span> <span class="token attr-name">string</span><span class="token punctuation">&gt;</span></span></code></p>
<p><em>(optional)</em> The YAML string for a v2 bootstrap configuration. If <a href="#cmdoption-c"><code>--config-path</code></a> is also set,the values in this YAML string will override and merge with the bootstrap loaded from <a href="#cmdoption-c"><code>--config-path</code></a>. Because YAML is a superset of JSON, a JSON string may also be passed to <a href="#cmdoption-config-yaml"><code>--config-yaml</code></a>. <a href="#cmdoption-config-yaml"><code>--config-yaml</code></a> is not compatible with bootstrap v1.Example overriding the node id on the command line:./envoy -c bootstrap.yaml &#x2013;config-yaml &#x201C;node: {id: &#x2018;node1&#x2019;}&#x201D;</p>
</li>
<li><p><code>--v2-config-only</code></p>
<p><em>(optional)</em> This flag determines whether the configuration file should only be parsed as a <a href="../configuration/overview/v2_overview.html#config-overview-v2-bootstrap">v2 bootstrap configuration file</a>. If false (default), when a v2 bootstrap config parse fails, a second attempt to parse the config as a <a href="../configuration/overview/v1_overview.html#config-overview-v1">v1 JSON configuration file</a> will be made.</p>
</li>
<li><p><code>--mode <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>string</span><span class="token punctuation">&gt;</span></span></code></p>
<p><em>(optional)</em> One of the operating modes for Envoy:<code>serve</code>: <em>(default)</em> Validate the JSON configuration and then serve traffic normally.<code>validate</code>: Validate the JSON configuration and then exit, printing either an &#x201C;OK&#x201D; message (in which case the exit code is 0) or any errors generated by the configuration file (exit code 1). No network traffic is generated, and the hot restart process is not performed, so no other Envoy process on the machine will be disturbed.</p>
</li>
<li><p><code>--admin-address-path <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>path</span> <span class="token attr-name">string</span><span class="token punctuation">&gt;</span></span></code></p>
<p><em>(optional)</em> The output file path where the admin address and port will be written.</p>
</li>
<li><p><code>--local-address-ip-version <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>string</span><span class="token punctuation">&gt;</span></span></code></p>
<p><em>(optional)</em> The IP address version that is used to populate the server local IP address. This parameter affects various headers including what is appended to the X-Forwarded-For (XFF) header. The options are <code>v4</code> or <code>v6</code>. The default is <code>v4</code>.</p>
</li>
<li><p><code>--base-id <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>integer</span><span class="token punctuation">&gt;</span></span></code></p>
<p><em>(optional)</em> The base ID to use when allocating shared memory regions. Envoy uses shared memory regions during <a href="../intro/arch_overview/hot_restart.html#arch-overview-hot-restart">hot restart</a>. Most users will never have to set this option. However, if Envoy needs to be run multiple times on the same machine, each running Envoy will need a unique base ID so that the shared memory regions do not conflict.</p>
</li>
<li><p><code>--concurrency <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>integer</span><span class="token punctuation">&gt;</span></span></code></p>
<p><em>(optional)</em> The number of <a href="../intro/arch_overview/threading_model.html#arch-overview-threading">worker threads</a> to run. If not specified defaults to the number of hardware threads on the machine.</p>
</li>
<li><p><code>-l <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>string</span><span class="token punctuation">&gt;</span></span>, --log-level <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>string</span><span class="token punctuation">&gt;</span></span></code></p>
<p><em>(optional)</em> The logging level. Non developers should generally never set this option. See the help text for the available log levels and the default.</p>
</li>
<li><p><code>--log-path <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>path</span> <span class="token attr-name">string</span><span class="token punctuation">&gt;</span></span></code></p>
<p><em>(optional)</em> The output file path where logs should be written. This file will be re-opened when SIGUSR1 is handled. If this is not set, log to stderr.</p>
</li>
<li><p><code>--log-format <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>format</span> <span class="token attr-name">string</span><span class="token punctuation">&gt;</span></span></code></p>
<p><em>(optional)</em> The format string to use for laying out the log message metadata. If this is not set, a default format string <code>&quot;[%Y-%m-%d %T.%e][%t][%l][%n] %v&quot;</code> is used.The supported format flags are (with example output):%v:The actual message to log (&#x201C;some user text&#x201D;)%t:Thread id (&#x201C;1232&#x201D;)%P:Process id (&#x201C;3456&#x201D;)%n:Logger&#x2019;s name (&#x201C;filter&#x201D;)%l:The log level of the message (&#x201C;debug&#x201D;, &#x201C;info&#x201D;, etc.)%L:Short log level of the message (&#x201C;D&#x201D;, &#x201C;I&#x201D;, etc.)%a:Abbreviated weekday name (&#x201C;Tue&#x201D;)%A:Full weekday name (&#x201C;Tuesday&#x201D;)%b:Abbreviated month name (&#x201C;Mar&#x201D;)%B:Full month name (&#x201C;March&#x201D;)%c:Date and time representation (&#x201C;Tue Mar 27 15:25:06 2018&#x201D;)%C:Year in 2 digits (&#x201C;18&#x201D;)%Y:Year in 4 digits (&#x201C;2018&#x201D;)%D, %x:Short MM/DD/YY date (&#x201C;03/27/18&#x201D;)%m:Month 01-12 (&#x201C;03&#x201D;)%d:Day of month 01-31 (&#x201C;27&#x201D;)%H:Hours in 24 format 00-23 (&#x201C;15&#x201D;)%I:Hours in 12 format 01-12 (&#x201C;03&#x201D;)%M:Minutes 00-59 (&#x201C;25&#x201D;)%S:Seconds 00-59 (&#x201C;06&#x201D;)%e:Millisecond part of the current second 000-999 (&#x201C;008&#x201D;)%f:Microsecond part of the current second 000000-999999 (&#x201C;008789&#x201D;)%F:Nanosecond part of the current second 000000000-999999999 (&#x201C;008789123&#x201D;)%p:AM/PM (&#x201C;AM&#x201D;)%r:12-hour clock (&#x201C;03:25:06 PM&#x201D;)%R:24-hour HH:MM time, equivalent to %H:%M (&#x201C;15:25&#x201D;)%T, %X:ISO 8601 time format (HH:MM:SS), equivalent to %H:%M:%S (&#x201C;13:25:06&#x201D;)%z:ISO 8601 offset from UTC in timezone ([+/-]HH:MM) (&#x201C;-07:00&#x201D;)%%:The % sign (&#x201C;%&#x201D;)</p>
</li>
<li><p><code>--restart-epoch <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>integer</span><span class="token punctuation">&gt;</span></span></code></p>
<p><em>(optional)</em> The <a href="../intro/arch_overview/hot_restart.html#arch-overview-hot-restart">hot restart</a> epoch. (The number of times Envoy has been hot restarted instead of a fresh start). Defaults to 0 for the first start. This option tells Envoy whether to attempt to create the shared memory region needed for hot restart, or whether to open an existing one. It should be incremented every time a hot restart takes place. The <a href="hot_restarter.html#operations-hot-restarter">hot restart wrapper</a> sets the <em>RESTART_EPOCH</em> environment variable which should be passed to this option in most cases.</p>
</li>
<li><p><code>--hot-restart-version</code></p>
<p><em>(optional)</em> Outputs an opaque hot restart compatibility version for the binary. This can be matched against the output of the <a href="admin.html#get--hot_restart_version"><code>GET /hot_restart_version</code></a> admin endpoint to determine whether the new binary and the running binary are hot restart compatible.</p>
</li>
<li><p><code>--service-cluster <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>string</span><span class="token punctuation">&gt;</span></span></code></p>
<p><em>(optional)</em> Defines the local service cluster name where Envoy is running. The local service cluster name is first sourced from the <a href="../api-v2/config/bootstrap/v2/bootstrap.proto.md#envoy-api-field-config-bootstrap-v2-bootstrap-node">Bootstrap node</a> message&#x2019;s <a href="../api-v2/api/v2/core/base.proto.md#envoy-api-field-core-node-cluster">cluster</a> field. This CLI option provides an alternative method for specifying this value and will override any value set in bootstrap configuration. It should be set if any of the following features are used: <a href="../intro/arch_overview/statistics.html#arch-overview-statistics">statsd</a>, <a href="../api-v1/cluster_manager/cluster_hc.md#config-cluster-manager-cluster-hc-service-name">health check cluster verification</a>, <a href="../api-v1/runtime.md#config-runtime-override-subdirectory">runtime override directory</a>, <a href="../api-v1/network_filters/http_conn_man.md#config-http-conn-man-add-user-agent">user agent addition</a>, <a href="../configuration/http_filters/rate_limit_filter.html#config-http-filters-rate-limit">HTTP global rate limiting</a>, <a href="../configuration/cluster_manager/cds.html#config-cluster-manager-cds">CDS</a>, and <a href="../intro/arch_overview/tracing.html#arch-overview-tracing">HTTP tracing</a>, either via this CLI option or in the bootstrap configuration.</p>
</li>
<li><p><code>--service-node <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>string</span><span class="token punctuation">&gt;</span></span></code></p>
<p><em>(optional)</em> Defines the local service node name where Envoy is running. The local service node name is first sourced from the <a href="../api-v2/config/bootstrap/v2/bootstrap.proto.md#envoy-api-field-config-bootstrap-v2-bootstrap-node">Bootstrap node</a> message&#x2019;s <a href="../api-v2/api/v2/core/base.proto.md#envoy-api-field-core-node-id">id</a> field. This CLI option provides an alternative method for specifying this value and will override any value set in bootstrap configuration. It should be set if any of the following features are used: <a href="../intro/arch_overview/statistics.html#arch-overview-statistics">statsd</a>, <a href="../configuration/cluster_manager/cds.html#config-cluster-manager-cds">CDS</a>, and <a href="../intro/arch_overview/tracing.html#arch-overview-tracing">HTTP tracing</a>, either via this CLI option or in the bootstrap configuration.</p>
</li>
<li><p><code>--service-zone <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>string</span><span class="token punctuation">&gt;</span></span></code></p>
<p><em>(optional)</em> Defines the local service zone where Envoy is running. The local service zone is first sourced from the <a href="../api-v2/config/bootstrap/v2/bootstrap.proto.md#envoy-api-field-config-bootstrap-v2-bootstrap-node">Bootstrap node</a> message&#x2019;s <a href="../api-v2/api/v2/core/base.proto.md#envoy-api-field-core-locality-zone">locality.zone</a> field. This CLI option provides an alternative method for specifying this value and will override any value set in bootstrap configuration. It should be set if discovery service routing is used and the discovery service exposes <a href="../api-v1/cluster_manager/sds.md#config-cluster-manager-sds-api-host-az">zone data</a>, either via this CLI option or in the bootstrap configuration. The meaning of zone is context dependent, e.g. <a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/using-regions-availability-zones.md" target="_blank">Availability Zone (AZ)</a> on AWS, <a href="https://cloud.google.com/compute/docs/regions-zones/" target="_blank">Zone</a> on GCP, etc.</p>
</li>
<li><p><code>--file-flush-interval-msec <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>integer</span><span class="token punctuation">&gt;</span></span></code></p>
<p><em>(optional)</em> The file flushing interval in milliseconds. Defaults to 10 seconds. This setting is used during file creation to determine the duration between flushes of buffers to files. The buffer will flush every time it gets full, or every time the interval has elapsed, whichever comes first. Adjusting this setting is useful when tailing <a href="../intro/arch_overview/access_logging.html#arch-overview-access-logs">access logs</a> in order to get more (or less) immediate flushing.</p>
</li>
<li><p><code>--drain-time-s <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>integer</span><span class="token punctuation">&gt;</span></span></code></p>
<p><em>(optional)</em> The time in seconds that Envoy will drain connections during a hot restart. See the<a href="../intro/arch_overview/hot_restart.html#arch-overview-hot-restart">hot restart overview</a> for more information. Defaults to 600 seconds (10 minutes). Generally the drain time should be less than the parent shutdown time set via the <a href="#cmdoption-parent-shutdown-time-s"><code>--parent-shutdown-time-s</code></a>option. How the two settings are configured depends on the specific deployment. In edge scenarios, it might be desirable to have a very long drain time. In service to service scenarios, it might be possible to make the drain and shutdown time much shorter (e.g., 60s/90s).</p>
</li>
<li><p><code>--parent-shutdown-time-s <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>integer</span><span class="token punctuation">&gt;</span></span></code></p>
<p><em>(optional)</em> The time in seconds that Envoy will wait before shutting down the parent process during a hot restart. See the <a href="../intro/arch_overview/hot_restart.html#arch-overview-hot-restart">hot restart overview</a> for more information. Defaults to 900 seconds (15 minutes).</p>
</li>
<li><p><code>--max-obj-name-len <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>uint64_t</span><span class="token punctuation">&gt;</span></span></code></p>
<p><em>(optional)</em> The maximum name length (in bytes) of the name field in a cluster/route_config/listener. This setting is typically used in scenarios where the cluster names are auto generated, and often exceed the built-in limit of 60 characters. Defaults to 60.AttentionThis setting affects the output of <a href="#cmdoption-hot-restart-version"><code>--hot-restart-version</code></a>. If you started envoy with this option set to a non default value, you should use the same option (and same value) for subsequent hot restarts.</p>
</li>
<li><p><code>--max-stats <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>uint64_t</span><span class="token punctuation">&gt;</span></span></code></p>
<p><em>(optional)</em> The maximum number of stats that can be shared between hot-restarts. This setting affects the output of <a href="#cmdoption-hot-restart-version"><code>--hot-restart-version</code></a>; the same value must be used to hot restart. Defaults to 16384.</p>
</li>
<li><p><code>--disable-hot-restart</code></p>
<p><em>(optional)</em> This flag disables Envoy hot restart for builds that have it enabled. By default, hot restart is enabled. </p>
</li>
</ul>
<footer class="page-footer"><span class="copyright">Copyright &#xA9; ServiceMesher 2018 all right reserved&#xFF0C;powered by Gitbook</span><span class="footer-modification"> &#x6700;&#x540E;&#x66F4;&#x65B0;&#x4E8E; 
2018-05-20 22:49:46
</span></footer>
                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="../configuration/tools/router_check.html" class="navigation navigation-prev " aria-label="Previous page: 路由表检查工具">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="hot_restarter.html" class="navigation navigation-next " aria-label="Next page: 热重启 Python 包装器">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"命令行选项","level":"6.1","depth":1,"next":{"title":"热重启 Python 包装器","level":"6.2","depth":1,"path":"operations/hot_restarter.md","ref":"operations/hot_restarter.md","articles":[]},"previous":{"title":"路由表检查工具","level":"5.14","depth":1,"path":"configuration/tools/router_check.md","ref":"configuration/tools/router_check.md","articles":[]},"dir":"ltr"},"config":{"plugins":["splitter","-lunr","-search","search-plus","-sharing","theme-default","edit-link","page-toc-button","back-to-top-button","github-buttons@2.1.0","-highlight","prism","prism-themes","favicon@^0.0.2","tbfed-pagefooter@^0.0.1"],"styles":{"ebook":"styles/ebook.css","epub":"styles/epub.css","mobi":"styles/mobi.css","pdf":"styles/pdf.css","print":"styles/print.css","website":"styles/website.css"},"pluginsConfig":{"tbfed-pagefooter":{"copyright":"Copyright © ServiceMesher 2018","modify_label":" 最后更新于 ","modify_format":"YYYY-MM-DD HH:mm:ss"},"prism":{"css":["prism-themes/themes/prism-ghcolors.css"]},"splitter":{},"fontsettings":{"theme":"white","family":"sans","size":2},"favicon":{"shortcut":"favicon.ico","bookmark":"favicon.ico"},"page-toc-button":{},"back-to-top-button":{},"prism-themes":{},"github-buttons":{"repo":"servicemesher/envoy","types":["star"],"size":"small"},"edit-link":{"label":"在线编辑","base":"https://github.com/servicemesher/envoy/edit/master"},"theme-default":{"showLevel":true,"styles":{"ebook":"styles/ebook.css","epub":"styles/epub.css","mobi":"styles/mobi.css","pdf":"styles/pdf.css","print":"styles/print.css","website":"styles/website.css"}},"search-plus":{}},"theme":"default","author":"ServiceMesher","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"Envoy proxy中文文档","language":"zh-hans","gitbook":">=3.2.0","description":"Envoy proxy中文文档","extension":null},"file":{"path":"operations/cli.md","mtime":"2018-05-20T14:49:46.638Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2018-05-22T02:55:24.565Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-splitter/splitter.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search-plus/jquery.mark.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search-plus/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-edit-link/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-page-toc-button/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-back-to-top-button/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-github-buttons/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

